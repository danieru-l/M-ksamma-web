<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galería de Arte | Máksamma</title>
    <meta name="description" content="Colección de ilustraciones oficiales del universo Máksamma.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/Maquiria.png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Fuentes -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@300;400;600&family=Playfair+Display:ital@0;1&display=swap');

        :root {
            --color-bg: #050508;
            --color-card: #151621;
            --accent-gold: #c5a059;
            --accent-blue: #4a7cf5;
        }

        body {
            background-color: var(--color-bg);
            color: #e2e8f0;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        h1, h2, h3, .font-epic { font-family: 'Cinzel', serif; }
        .font-serif-text { font-family: 'Playfair Display', serif; }

        /* Estrellas */
        .stars-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%); overflow: hidden; }
        .star { 
            position: absolute; background: white; border-radius: 50%; opacity: 0.8; 
            animation: twinkle var(--duration) infinite ease-in-out;
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.8);
        }
        @keyframes twinkle {
            0%, 100% { opacity: var(--opacity); transform: scale(1); }
            50% { opacity: 0.3; transform: scale(0.5); }
        }

        /* NAVEGACIÓN (Consistente con Index) */
        .nav-container {
            background: rgba(5, 5, 8, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.4s ease;
        }
        body.scrolled .nav-container { transform: translateY(-100%); }
        
        .nav-link {
            position: relative; text-transform: uppercase; font-size: 0.85rem;
            letter-spacing: 0.1em; font-weight: 600; color: #cbd5e1;
            transition: color 0.3s; padding: 0.5rem 0;
        }
        .nav-link:hover { color: white; }
        .nav-link::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 1px;
            background: var(--accent-gold); transition: width 0.3s;
        }
        .nav-link:hover::after { width: 100%; }

        .btn-navy { background-color: #0f172a; border: 1px solid #1e3a8a; color: white; transition: all 0.3s; }
        .btn-navy:hover { background-color: #1e3a8a; box-shadow: 0 0 15px rgba(30, 58, 138, 0.5); }

        /* --- MARCO DE PLANTAS (VINE FRAME) --- */
        .vine-wrapper {
            position: relative;
            padding: 8px;
            transition: transform 0.3s ease, filter 0.3s ease;
            cursor: pointer;
            break-inside: avoid; /* Para Masonry */
            margin-bottom: 2rem;
        }
        .vine-wrapper:hover { transform: translateY(-5px) scale(1.02); z-index: 10; }

        .vine-border {
            position: absolute; inset: 0;
            border: 2px solid #5e8c61;
            border-radius: 12px; pointer-events: none; z-index: 20;
            box-shadow: 0 0 15px rgba(94, 140, 97, 0.2);
        }

        .vine-corner {
            position: absolute; width: 40px; height: 40px; z-index: 21;
            background-repeat: no-repeat; background-size: contain;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' fill='none'%3E%3Cpath d='M2 50 C 2 20 20 2 50 2' stroke='%237ab36e' stroke-width='3' stroke-linecap='round'/%3E%3Cpath d='M15 35 Q 5 35 2 25' stroke='%235e8c61' stroke-width='2'/%3E%3Cpath d='M35 15 Q 35 5 25 2' stroke='%235e8c61' stroke-width='2'/%3E%3Cpath d='M15 35 Q 25 25 25 45' fill='%2388c478'/%3E%3Ccircle cx='15' cy='15' r='3' fill='%23c5a059'/%3E%3C/svg%3E");
        }
        .vc-tl { top: -8px; left: -8px; transform: rotate(0deg); }
        .vc-tr { top: -8px; right: -8px; transform: rotate(90deg); }
        .vc-br { bottom: -8px; right: -8px; transform: rotate(180deg); }
        .vc-bl { bottom: -8px; left: -8px; transform: rotate(270deg); }

        .vine-content {
            position: relative; border-radius: 8px; overflow: hidden; z-index: 10;
            background-color: #0f111a;
        }
        
        /* Grid Masonry */
        .masonry-grid {
            column-count: 1;
            column-gap: 2rem;
        }
        @media (min-width: 768px) { .masonry-grid { column-count: 2; } }
        @media (min-width: 1024px) { .masonry-grid { column-count: 3; } }

        /* Lightbox */
        #lightbox {
            transition: opacity 0.3s ease;
            backdrop-filter: blur(10px);
        }
        #lightbox.hidden { pointer-events: none; opacity: 0; }
        
        .lightbox-img {
            max-height: 80vh; max-width: 90vw;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            border: 1px solid rgba(255,255,255,0.1);
        }
    </style>
</head>
<body>

    <div class="stars-wrapper" id="stars-bg"></div>

    <!-- NAVEGACIÓN -->
    <nav class="fixed w-full z-50 nav-container" id="main-nav">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center relative">
            
            <!-- Izquierda -->
            <div class="w-1/3 flex items-center justify-start">
                <button class="md:hidden text-white p-2" onclick="toggleMenu()">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
                <div class="hidden md:flex gap-4">
                    <a href="https://www.facebook.com/profile.php?id=61581647797097" target="_blank" class="text-gray-400 hover:text-[#1877F2] transition hover:scale-110"><i class="fa-brands fa-facebook-f text-lg"></i></a>
                    <a href="https://www.instagram.com/maksamma_oficial/" target="_blank" class="text-gray-400 hover:text-[#E4405F] transition hover:scale-110"><i class="fa-brands fa-instagram text-lg"></i></a>
                    <a href="https://www.tiktok.com/@maksammaoficial" target="_blank" class="text-gray-400 hover:text-white transition hover:scale-110"><i class="fa-brands fa-tiktok text-lg"></i></a>
                </div>
            </div>

            <!-- Centro: Logo Flotante -->
            <div class="w-1/3 flex justify-center relative">
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 mt-2">
                    <a href="index.html">
                        <img src="images/LogoMaks.png" alt="Máksamma" class="h-32 md:h-56 w-auto object-contain hover:scale-105 transition drop-shadow-2xl">
                    </a>
                </div>
            </div>

            <!-- Derecha -->
            <div class="w-1/3 flex justify-end items-center gap-4">
                <a href="tienda.html" class="hidden md:inline-block btn-navy px-5 py-2 rounded-sm text-xs font-bold uppercase tracking-wider shadow-lg">Adquiere un libro</a>
            </div>
        </div>

        <div class="hidden md:flex container mx-auto px-6 py-2 justify-center items-center gap-12 border-t border-white/5 bg-black/20">
            <a href="index.html#universo" class="nav-link">El Universo</a>
            <a href="index.html#saga" class="nav-link">La Saga</a>
            <a href="wiki.html" class="nav-link">Wiki</a>
            <a href="tienda.html" class="nav-link">Tienda</a>
        </div>

        <!-- Menú Móvil -->
        <div id="mobile-menu" class="hidden absolute top-full left-0 w-full bg-[#0b0c15]/95 backdrop-blur-xl h-screen flex flex-col p-8 z-40 border-t border-white/10">
            <div class="flex flex-col space-y-8 text-center text-xl font-bold uppercase tracking-widest font-epic mt-10">
                <a href="index.html#universo" class="text-white hover:text-blue-400">El Universo</a>
                <a href="index.html#saga" class="text-white hover:text-blue-400">La Saga</a>
                <a href="wiki.html" class="text-white hover:text-blue-400">Wiki</a>
                <a href="tienda.html" class="text-white hover:text-blue-400">Tienda</a>
            </div>
        </div>
    </nav>

    <!-- HEADER GALERÍA -->
    <header class="pt-40 pb-10 px-6 text-center relative z-10">
        <h1 class="text-4xl md:text-6xl font-epic text-white mb-4 drop-shadow-[0_0_15px_rgba(74,124,245,0.5)]">Visiones del Pigtandé</h1>
        <p class="text-gray-400 font-serif-text italic text-lg">Arte conceptual y momentos clave de la saga</p>
        <div class="w-24 h-1 bg-gradient-to-r from-transparent via-yellow-600 to-transparent mx-auto mt-6"></div>
    </header>

    <!-- GALERÍA MASONRY -->
    <section class="container mx-auto px-6 pb-24 relative z-10">
        <div class="masonry-grid" id="gallery-grid">
            <!-- Las imágenes se insertan vía JS para facilitar el manejo -->
        </div>
    </section>

    <!-- LIGHTBOX -->
    <div id="lightbox" class="fixed inset-0 z-[100] bg-black/90 hidden flex items-center justify-center p-4">
        <button onclick="closeLightbox()" class="absolute top-6 right-6 text-gray-400 hover:text-white transition z-50">
            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
        
        <button onclick="prevImage()" class="absolute left-4 md:left-10 text-white/50 hover:text-white transition z-50 p-4">
            <i class="fa-solid fa-chevron-left text-4xl"></i>
        </button>
        
        <div class="relative flex flex-col items-center">
            <img id="lightbox-img" src="" alt="Vista previa" class="lightbox-img object-contain">
            <div class="mt-4 text-center">
                <h3 id="lightbox-title" class="font-epic text-xl text-white tracking-widest"></h3>
                <p class="text-xs text-gray-500 uppercase mt-1">Ilustración Oficial</p>
            </div>
        </div>

        <button onclick="nextImage()" class="absolute right-4 md:right-10 text-white/50 hover:text-white transition z-50 p-4">
            <i class="fa-solid fa-chevron-right text-4xl"></i>
        </button>
    </div>

    <!-- FOOTER -->
    <footer class="py-12 bg-black text-center flex flex-col items-center relative z-10 border-t border-white/10">
        <img src="images/LogoMaks.png" class="h-20 mb-6 opacity-80 object-contain">
        <p class="text-[10px] text-gray-700">© 2024 Máksamma. Autor: Carlos Enrique Rodríguez Mata.</p>
    </footer>

    <script>
        // 1. Estrellas
        const starsContainer = document.getElementById('stars-bg');
        for (let i = 0; i < 80; i++) {
            const star = document.createElement('div');
            star.classList.add('star');
            star.style.left = `${Math.random() * 100}%`;
            star.style.top = `${Math.random() * 100}%`;
            const size = Math.random() * 3 + 2;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            star.style.setProperty('--duration', `${Math.random() * 3 + 2}s`);
            star.style.setProperty('--opacity', Math.random() * 0.7 + 0.3);
            starsContainer.appendChild(star);
        }

        // 2. Generar Galería (11 Imágenes)
        const galleryGrid = document.getElementById('gallery-grid');
        const totalImages = 11;
        
        // Títulos de ejemplo (puedes personalizarlos luego)
        const titles = [
            "El Despertar", "La Torre del Silencio", "Sombras en el Bosque", 
            "El Pacto", "Reflejos de Cristal", "La Guardia Real", 
            "Horizonte Lejano", "El Séptimo Clan", "Secretos Antiguos",
            "La Batalla", "El Nuevo Amanecer"
        ];

        for (let i = 1; i <= totalImages; i++) {
            const wrapper = document.createElement('div');
            wrapper.className = 'vine-wrapper group';
            wrapper.onclick = () => openLightbox(i);
            
            wrapper.innerHTML = `
                <div class="vine-border"></div>
                <div class="vine-corner vc-tl"></div>
                <div class="vine-corner vc-tr"></div>
                <div class="vine-corner vc-bl"></div>
                <div class="vine-corner vc-br"></div>
                <div class="vine-content">
                    <img src="images/Ilus${i}.png" alt="Ilustración ${i}" 
                         class="w-full h-auto object-cover transition duration-500 group-hover:scale-110"
                         loading="lazy"
                         onerror="this.style.display='none'">
                    <div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition duration-300 flex items-center justify-center">
                        <span class="text-white font-epic tracking-widest text-sm border-b border-white pb-1">VER ARTE</span>
                    </div>
                </div>
            `;
            galleryGrid.appendChild(wrapper);
        }

        // 3. Lógica Lightbox
        let currentIdx = 1;
        const lightbox = document.getElementById('lightbox');
        const lbImg = document.getElementById('lightbox-img');
        const lbTitle = document.getElementById('lightbox-title');

        function openLightbox(idx) {
            currentIdx = idx;
            updateLightbox();
            lightbox.classList.remove('hidden');
            setTimeout(() => lightbox.style.opacity = '1', 10);
        }

        function closeLightbox() {
            lightbox.style.opacity = '0';
            setTimeout(() => lightbox.classList.add('hidden'), 300);
        }

        function updateLightbox() {
            lbImg.style.opacity = '0.5';
            setTimeout(() => {
                lbImg.src = `images/Ilus${currentIdx}.png`;
                lbTitle.innerText = titles[currentIdx - 1] || `Ilustración ${currentIdx}`;
                lbImg.onload = () => lbImg.style.opacity = '1';
            }, 150);
        }

        function nextImage() {
            currentIdx = (currentIdx % totalImages) + 1;
            updateLightbox();
        }

        function prevImage() {
            currentIdx = (currentIdx - 1) || totalImages;
            updateLightbox();
        }

        // Teclado
        document.addEventListener('keydown', (e) => {
            if (lightbox.classList.contains('hidden')) return;
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowRight') nextImage();
            if (e.key === 'ArrowLeft') prevImage();
        });

        // 4. Scroll Nav
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) document.body.classList.add('scrolled');
            else document.body.classList.remove('scrolled');
        });

        function toggleMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }
    </script>
    
    <script src="magic-cursor.js"></script>
</body>
</html>
